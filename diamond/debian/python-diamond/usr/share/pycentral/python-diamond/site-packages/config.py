import os
import os.path
import sys

homedir = os.path.expanduser('~')

dirs = [os.path.join(homedir, ".diamond", "schemata")]
if sys.platform != "win32" and sys.platform != "win64":
  dirs.append("/etc/diamond/schemata")

schemata = {}

for dir in dirs:
  try:
    for file in os.listdir(dir):
      schemata[file] = open(os.path.join(dir, file)).read().strip()
  except OSError:
    pass

if len(schemata) == 0:
  schemata["xml"] = "Extensible markup language"

if __name__ == "__main__":
  for key in schemata:
    print "%s: %s" % (key, schemata[key])
